import psycopg2
import os

# --- 1. 投入するデータを用意する ---
# あなたが作成した100件のテストタスクをこの形式で記述します。
# 'category'が`categories`テーブルに存在するカテゴリ名と一致することを確認してください。
tasks = [
  {
    "category": "食事",
    "title": "利き手ではない方の手でお箸を使って食事する",
    "description": "普段とは違う手でお箸を使うことで、脳の新しい部分が刺激され、いつもの食事が新鮮な体験に変わります。不器用さが逆に食事をゆっくり味わうきっかけになるかもしれません。",
    "difficulty": 2
  },
  {
    "category": "食事",
    "title": "コンビニで見たことのない商品を1つ選んで買う",
    "description": "普段手に取らない新商品や地域限定品を直感で選んでみましょう。予想外の美味しさとの出会いが、小さなサプライズを運んでくれるかもしれません。",
    "difficulty": 1
  },
  {
    "category": "食事",
    "title": "朝食に普段食べない色の食材を1つ加える",
    "description": "赤、黄、緑など、いつもの朝食にない色の食材を意識的に取り入れてみませんか。色鮮やかな食事は気分を明るくし、栄養バランスも自然と良くなります。",
    "difficulty": 2
  },
  {
    "category": "食事",
    "title": "昔懐かしい駄菓子を1つ買って味わう",
    "description": "子供の頃に食べた駄菓子を探して、ゆっくりと味わってみましょう。懐かしい味が心を温め、忙しい日常に小さな癒しをもたらしてくれるはずです。",
    "difficulty": 1
  },
  {
    "category": "食事",
    "title": "いつもの料理に新しいスパイスを1つ加える",
    "description": "家にあるスパイスを普段と違う料理に使ったり、新しいスパイスを少量購入して実験してみましょう。香りと味の変化が、料理への新しい発見をもたらします。",
    "difficulty": 3
  },
  {
    "category": "食事",
    "title": "食事を一口ずつゆっくりと30回噛んで味わう",
    "description": "普段急いで食べがちな食事を、意識的にゆっくりと味わってみませんか。素材本来の味を再発見でき、心も落ち着く時間になります。",
    "difficulty": 2
  },
  {
    "category": "食事",
    "title": "地元の食材を使った料理を1品作る",
    "description": "住んでいる地域で採れた野菜や特産品を使って、簡単な料理を作ってみましょう。地域とのつながりを感じながら、新鮮な食材の美味しさを堪能できます。",
    "difficulty": 3
  },
  {
    "category": "食事",
    "title": "今まで飲んだことのない種類の紅茶やハーブティーを試す",
    "description": "いつものコーヒーや緑茶から離れて、新しい紅茶やハーブティーに挑戦してみませんか。香りと味の違いが、リラックスタイムをより特別なものにしてくれます。",
    "difficulty": 2
  },
  {
    "category": "食事",
    "title": "お弁当を手作りして外で食べる",
    "description": "簡単でも構わないので、お弁当を手作りして公園やお気に入りの場所で食べてみましょう。手作りの温かさと外の空気が、特別なランチタイムを演出してくれます。",
    "difficulty": 3
  },
  {
    "category": "食事",
    "title": "食事の前に今日の感謝を一つ心の中で唱える",
    "description": "食事を始める前に、今日あった良いことや感謝したいことを一つ思い浮かべてみましょう。心が穏やかになり、食事がより美味しく感じられるはずです。",
    "difficulty": 1
  },
  {
    "category": "食事",
    "title": "食べたことのない国の料理を作るか買ってみる",
    "description": "タイ、インド、メキシコなど、未体験の国の料理に挑戦してみませんか。新しい味覚の発見が、世界への興味と好奇心を広げてくれます。",
    "difficulty": 3
  },
  {
    "category": "食事",
    "title": "野菜から先に食べる順番を意識して食事する",
    "description": "いつもの食事の順番を変えて、野菜から食べ始めてみましょう。体にも優しく、食材一つ一つの味をより丁寧に感じることができます。",
    "difficulty": 1
  },
  {
    "category": "食事",
    "title": "今日の食事の写真を撮って色彩を観察する",
    "description": "食事の前に写真を撮って、どんな色が含まれているか観察してみましょう。色鮮やかな食事を意識することで、栄養バランスへの関心も高まります。",
    "difficulty": 1
  },
  {
    "category": "食事",
    "title": "季節の果物を一つ選んで丁寧に味わう",
    "description": "その季節にしか味わえない果物を選んで、ゆっくりと食べてみませんか。季節の移り変わりを味覚で感じ、自然のリズムとつながることができます。",
    "difficulty": 2
  },
  {
    "category": "食事",
    "title": "普段使わない食器で食事をする",
    "description": "お気に入りの器や普段しまっている食器を使って食事してみましょう。器が変わるだけで、いつもの料理が特別な一品に感じられます。",
    "difficulty": 1
  },
  {
    "category": "運動",
    "title": "エスカレーターを使わずに階段を一つ多く使う",
    "description": "普段エスカレーターを使う場所で階段を選んでみましょう。ほんの少しの運動でも、体が軽やかになり、達成感を味わうことができます。",
    "difficulty": 1
  },
  {
    "category": "運動",
    "title": "最寄り駅の一つ手前で降りて歩く",
    "description": "いつもより一駅分多く歩くことで、新しい街並みを発見したり、適度な運動で気分がリフレッシュされます。新しいお店や景色との出会いも期待できます。",
    "difficulty": 2
  },
  {
    "category": "運動",
    "title": "朝起きて5分間ストレッチをする",
    "description": "起床後の5分間を体をほぐす時間にしてみませんか。筋肉の緊張がほぐれ、一日の始まりが気持ちよくスタートできます。",
    "difficulty": 2
  },
  {
    "category": "運動",
    "title": "普段より歩く速度を意識的に変えてみる",
    "description": "早歩きしたり、ゆっくり歩いたり、普段の歩行速度を変えてみましょう。同じ道でも違った景色が見え、新しい発見があるかもしれません。",
    "difficulty": 1
  },
  {
    "category": "運動",
    "title": "30分間立ったまま作業をする",
    "description": "デスクワークの一部を立ったまま行ってみませんか。姿勢が良くなり、集中力も高まり、体の血流改善にもつながります。",
    "difficulty": 2
  },
  {
    "category": "運動",
    "title": "いつもと違う道を通って散歩する",
    "description": "普段歩かない道を選んで散歩してみましょう。新しい発見や出会いがあり、いつもの散歩がちょっとした冒険に変わります。",
    "difficulty": 1
  },
  {
    "category": "運動",
    "title": "1分間深呼吸を10回繰り返す",
    "description": "ゆっくりと深い呼吸を意識して行ってみませんか。酸素が体中に行き渡り、心も落ち着き、リフレッシュ効果が期待できます。",
    "difficulty": 1
  },
  {
    "category": "運動",
    "title": "片足立ちで30秒間バランスを取る",
    "description": "簡単そうに見えて意外と難しい片足立ちに挑戦してみましょう。体幹が鍛えられ、バランス感覚も向上し、達成感も味わえます。",
    "difficulty": 2
  },
  {
    "category": "運動",
    "title": "腕を大きく振って5分間歩く",
    "description": "普段より大きく腕を振って歩いてみませんか。肩こりの解消になり、歩行がより効果的な運動に変わります。",
    "difficulty": 1
  },
  {
    "category": "運動",
    "title": "ラジオ体操を一通りやってみる",
    "description": "懐かしいラジオ体操で全身を動かしてみましょう。短時間で全身運動ができ、童心に返った楽しい気分も味わえます。",
    "difficulty": 2
  },
  {
    "category": "運動",
    "title": "つま先立ちで1分間歩く",
    "description": "つま先立ちで歩くことで、ふくらはぎが鍛えられ、バランス感覚も向上します。短時間でも効果的な運動になります。",
    "difficulty": 2
  },
  {
    "category": "運動",
    "title": "肩回しを前後に10回ずつ行う",
    "description": "デスクワークで凝り固まった肩をほぐしてみませんか。肩甲骨が動き、肩こりの解消と血行促進につながります。",
    "difficulty": 1
  },
  {
    "category": "運動",
    "title": "壁を使って腕立て伏せを10回する",
    "description": "壁に手をついて行う腕立て伏せなら、どこでも簡単にできます。上半身の筋力向上と姿勢改善に効果的です。",
    "difficulty": 2
  },
  {
    "category": "運動",
    "title": "足首を時計回りと反時計回りに10回ずつ回す",
    "description": "座ったままでもできる足首回しで、足の血行を促進しましょう。むくみの解消や疲労回復に効果があります。",
    "difficulty": 1
  },
  {
    "category": "運動",
    "title": "意識的に背伸びを5回する",
    "description": "背筋を伸ばす背伸びで、縮こまった体をリセットしましょう。姿勢が良くなり、気分もスッキリします。",
    "difficulty": 1
  },
  {
    "category": "学習",
    "title": "今日知らなかった新しい単語を1つ覚える",
    "description": "辞書やインターネットで新しい言葉を一つ見つけて覚えてみませんか。語彙が増えることで、表現力も豊かになり、世界が少し広がります。",
    "difficulty": 2
  },
  {
    "category": "学習",
    "title": "図書館または本屋に15分間立ち寄る",
    "description": "本に囲まれた空間で過ごす時間は、新しい知識や興味との出会いの場です。気になる本を手に取るだけでも、学びのきっかけになります。",
    "difficulty": 1
  },
  {
    "category": "学習",
    "title": "普段読まない分野の記事を一つ読む",
    "description": "科学、芸術、歴史など、いつもは読まないジャンルの記事に挑戦してみましょう。新しい視点が得られ、興味の幅が広がるかもしれません。",
    "difficulty": 2
  },
  {
    "category": "学習",
    "title": "YouTubeで5分以内の教育動画を1本見る",
    "description": "短時間で学べる教育コンテンツで新しい知識を吸収してみませんか。動画なら楽しく学べ、すぐに実践できる内容も多くあります。",
    "difficulty": 1
  },
  {
    "category": "学習",
    "title": "クイズアプリで5問チャレンジする",
    "description": "ゲーム感覚で知識を増やせるクイズアプリに挑戦してみましょう。正解した時の達成感と、知らなかった事実の発見が楽しめます。",
    "difficulty": 1
  },
  {
    "category": "学習",
    "title": "漢字を手で書いて練習する",
    "description": "普段スマホやパソコンで済ませている文字を、実際に手で書いてみませんか。手で書くことで記憶に残りやすく、美しい字も身につきます。",
    "difficulty": 2
  },
  {
    "category": "学習",
    "title": "今日起きた歴史上の出来事を調べる",
    "description": "今日という日に過去何が起こったかを調べてみましょう。歴史とのつながりを感じることで、今日という日がより特別に思えてきます。",
    "difficulty": 2
  },
  {
    "category": "学習",
    "title": "今まで使ったことのないスマホアプリを1つ試す",
    "description": "便利そうだけど使っていなかったアプリや、全く新しい分野のアプリを試してみませんか。新しい機能との出会いが生活を便利にしてくれるかもしれません。",
    "difficulty": 1
  },
  {
    "category": "学習",
    "title": "天気の仕組みについて5分間調べる",
    "description": "毎日気になる天気の仕組みを少し詳しく調べてみましょう。雲の種類や気圧の変化など、身近な現象の科学的な理由を知ると世界の見方が変わります。",
    "difficulty": 2
  },
  {
    "category": "学習",
    "title": "今日のニュースから一つ選んで詳しく読む",
    "description": "流し読みしがちなニュースの中から一つを選んで、詳しく調べてみませんか。背景や関連情報を知ることで、世の中の動きをより深く理解できます。",
    "difficulty": 2
  },
  {
    "category": "学習",
    "title": "辞書をランダムに開いて面白い言葉を見つける",
    "description": "辞書をパラパラめくって、偶然出会った言葉を読んでみましょう。知らない言葉や面白い語源に出会うことで、言葉の奥深さを感じることができます。",
    "difficulty": 1
  },
  {
    "category": "学習",
    "title": "身近な科学現象について調べる",
    "description": "なぜ石鹸で汚れが落ちるのか、なぜ虹ができるのかなど、身の回りの科学現象を一つ調べてみませんか。日常がもっと興味深く感じられるはずです。",
    "difficulty": 2
  },
  {
    "category": "学習",
    "title": "外国語の挨拶を一つ覚える",
    "description": "英語以外の言語での挨拶を覚えてみましょう。その国の文化に触れるきっかけになり、国際的な視野も広がります。",
    "difficulty": 1
  },
  {
    "category": "学習",
    "title": "地図で知らない場所を一つ見つける",
    "description": "地図アプリや地図帳で、行ったことのない場所を探してみませんか。その場所について調べることで、新しい旅行先の候補になるかもしれません。",
    "difficulty": 1
  },
  {
    "category": "学習",
    "title": "今夜見える星座について調べる",
    "description": "今日の夜空に見える星座を調べて、実際に空を見上げてみましょう。宇宙の壮大さを感じることで、日常の小さな悩みも軽やかになります。",
    "difficulty": 2
  },
  {
    "category": "創造",
    "title": "スマホで撮った写真に映画のタイトルのような名前をつける",
    "description": "何気なく撮った写真を見返して、まるで映画のワンシーンのようなタイトルを考えてみませんか。日常の風景が一瞬でドラマチックに変わります。",
    "difficulty": 2
  },
  {
    "category": "創造",
    "title": "今の気分を3行の詩で表現する",
    "description": "今感じている気持ちを短い詩にしてみましょう。韻を踏む必要はありません。言葉で気持ちを表現することで、自分の内面と向き合う時間になります。",
    "difficulty": 3
  },
  {
    "category": "創造",
    "title": "身の回りにあるものを使って5分でスケッチする",
    "description": "コップ、植物、ペンなど、身近なものを題材に簡単なスケッチをしてみませんか。上手下手は関係なく、集中して描く時間が心を落ち着かせてくれます。",
    "difficulty": 2
  },
  {
    "category": "創造",
    "title": "折り紙で何かを一つ作る",
    "description": "鶴でなくても、簡単な花や箱など、何でも構いません。手を使って何かを作ることで、達成感と集中による癒し効果が得られます。",
    "difficulty": 2
  },
  {
    "category": "創造",
    "title": "いつもの料理に一工夫加える",
    "description": "盛り付けを変えたり、新しい組み合わせを試したり、普段の料理をちょっとアレンジしてみましょう。小さな変化が大きな満足感をもたらします。",
    "difficulty": 2
  },
  {
    "category": "創造",
    "title": "部屋の小物の配置を少し変えてみる",
    "description": "写真立て、植物、本などの位置を変えるだけで、いつもの部屋が新鮮に感じられます。プチ模様替えで気分転換を図ってみませんか。",
    "difficulty": 1
  },
  {
    "category": "創造",
    "title": "誰かに感謝の手紙を書く",
    "description": "家族、友人、同僚など、お世話になっている人への感謝の気持ちを手紙にしてみましょう。渡さなくても構いません。感謝の気持ちを言葉にすることで心が温まります。",
    "difficulty": 2
  },
  {
    "category": "創造",
    "title": "日記に今日の出来事を絵で描く",
    "description": "文字ではなく、簡単な絵で今日あったことを表現してみませんか。下手でも構いません。絵で描くことで、いつもとは違う角度から一日を振り返ることができます。",
    "difficulty": 2
  },
  {
    "category": "創造",
    "title": "好きな音楽に合わせて1分間自由に踊る",
    "description": "人に見られることを気にせず、音楽に身を任せて自由に体を動かしてみませんか。ストレス発散になり、体も心も軽やかになります。",
    "difficulty": 2
  },
  {
    "category": "創造",
    "title": "もし魔法が使えたらという設定で短い物語を考える",
    "description": "5分程度の短い物語を頭の中で考えてみましょう。想像力を働かせることで創造性が刺激され、日常から離れた楽しい時間を過ごせます。",
    "difficulty": 3
  },
  {
    "category": "創造",
    "title": "今着ている服の新しい組み合わせを考える",
    "description": "普段しない組み合わせやアクセサリーの使い方を考えてみませんか。小さなおしゃれの変化が気分を上げ、新しい自分を発見するきっかけになります。",
    "difficulty": 1
  },
  {
    "category": "創造",
    "title": "窓から見える景色の色彩に注目して写真を撮る",
    "description": "いつも見ている窓からの景色を、色彩を意識して撮影してみましょう。青い空、緑の木々など、色の美しさに改めて気づくことができます。",
    "difficulty": 1
  },
  {
    "category": "創造",
    "title": "今日見たものを題材に俳句を作る",
    "description": "5-7-5の音律で、今日印象に残ったものを俳句にしてみませんか。短い言葉の中に思いを込めることで、言葉の力と美しさを感じることができます。",
    "difficulty": 3
  },
  {
    "category": "創造",
    "title": "理想の部屋のレイアウトをスケッチする",
    "description": "今の部屋をベースに、理想の配置や家具を描いてみましょう。実現できなくても、想像することで生活空間への新しいアイデアが生まれます。",
    "difficulty": 2
  },
  {
    "category": "創造",
    "title": "身近な材料を使って何かを手作りする",
    "description": "紙、糸、空き箱など、家にあるものを使って小物を作ってみませんか。完成度は気にせず、作る過程を楽しみ、達成感を味わいましょう。",
    "difficulty": 3
  },
  {
    "category": "交流",
    "title": "家族に今日あった良いことを一つ話す",
    "description": "些細なことでも構いません。今日の良い出来事を家族とシェアしてみましょう。ポジティブな話題は家庭の雰囲気を明るくし、絆を深めます。",
    "difficulty": 1
  },
  {
    "category": "交流",
    "title": "久しぶりの友人に近況を伝えるメッセージを送る",
    "description": "長い間連絡を取っていない友人に、簡単な近況報告のメッセージを送ってみませんか。懐かしい思い出がよみがえり、新しいつながりが生まれるかもしれません。",
    "difficulty": 2
  },
  {
    "category": "交流",
    "title": "近所の人に笑顔で挨拶する",
    "description": "普段すれ違うだけの近所の人に、今日は特に意識して笑顔で挨拶してみましょう。小さな交流が地域とのつながりを感じさせてくれます。",
    "difficulty": 1
  },
  {
    "category": "交流",
    "title": "お店の店員さんに感謝の言葉を伝える",
    "description": "コンビニ、レストラン、お店などで、「ありがとうございます」「お疲れ様です」など、感謝の気持ちを言葉にして伝えてみませんか。お互いに気持ちが温まります。",
    "difficulty": 1
  },
  {
    "category": "交流",
    "title": "SNSで誰かの投稿に応援のコメントをする",
    "description": "友人や知人の頑張っている投稿に、心のこもった応援メッセージを送ってみましょう。相手の励みになり、自分も良い気持ちになれます。",
    "difficulty": 1
  },
  {
    "category": "交流",
    "title": "電話で誰かと5分間話す",
    "description": "メッセージではなく、声で誰かと話してみませんか。声のトーンから伝わる温かさが、デジタルなやり取りでは得られない心のつながりを感じさせてくれます。",
    "difficulty": 2
  },
  {
    "category": "交流",
    "title": "お世話になった人にお礼のはがきを書く",
    "description": "手書きのはがきは、デジタル時代だからこそ特別な価値があります。お世話になった人への感謝を手紙にして、心のこもったメッセージを届けましょう。",
    "difficulty": 2
  },
  {
    "category": "交流",
    "title": "地域のイベント情報を調べて参加を検討する",
    "description": "お祭り、マルシェ、講座など、地域で開催されているイベントを調べてみませんか。新しい出会いや発見のきっかけになり、地域とのつながりも深まります。",
    "difficulty": 2
  },
  {
    "category": "交流",
    "title": "今日会った人の良いところを一つ見つける",
    "description": "家族、同僚、店員さんなど、今日関わった人の素敵な点を意識的に見つけてみましょう。人の良い面に注目することで、人間関係がより豊かになります。",
    "difficulty": 1
  },
  {
    "category": "交流",
    "title": "誰かの相談に耳を傾ける時間を作る",
    "description": "家族や友人が何か悩んでいることがあれば、じっくりと話を聞いてみませんか。アドバイスより共感を大切に、相手の気持ちに寄り添ってみましょう。",
    "difficulty": 2
  },
  {
    "category": "交流",
    "title": "家族や友人と一緒に何かを作ったり作業したりする",
    "description": "料理、掃除、工作など、一人でやっていることを誰かと一緒にやってみませんか。共同作業は自然な会話を生み、絆を深める良い機会になります。",
    "difficulty": 2
  },
  {
    "category": "交流",
    "title": "オンラインコミュニティで質問や情報を共有する",
    "description": "趣味や興味のあることについて、オンラインで同じ興味を持つ人たちと情報交換してみましょう。新しい視点や知識を得ることができます。",
    "difficulty": 2
  },
  {
    "category": "交流",
    "title": "今日会った人に心からの褒め言葉を一つ伝える",
    "description": "相手の努力、センス、人柄など、本心から素敵だと思ったことを言葉にして伝えてみませんか。相手も自分も嬉しい気持ちになれます。",
    "difficulty": 2
  },
  {
    "category": "交流",
    "title": "家族の話を普段より長く聞く",
    "description": "いつもは忙しくて聞き流してしまう家族の話を、今日は特に集中して聞いてみましょう。新しい発見があり、家族との理解が深まります。",
    "difficulty": 1
  },
  {
    "category": "整理",
    "title": "デスクの上を5分間で整理する",
    "description": "散らかったデスクを短時間で整理してみませんか。すっきりした環境は集中力を高め、気分もリフレッシュしてくれます。",
    "difficulty": 1
  },
  {
    "category": "整理",
    "title": "スマホの写真を10枚削除する",
    "description": "たまりがちなスマホの写真を整理して、不要なものを削除してみましょう。必要な写真が見つけやすくなり、スマホの動作も軽くなります。",
    "difficulty": 1
  },
  {
    "category": "整理",
    "title": "クローゼットから着ない服を3着選ぶ",
    "description": "もう着ないけれど処分に迷っている服を整理してみませんか。クローゼットがすっきりし、本当に気に入っている服が見つけやすくなります。",
    "difficulty": 2
  },
  {
    "category": "整理",
    "title": "本棚の本を5冊選んで整理する",
    "description": "読み終わった本、もう読まない本を整理して、必要に応じて誰かに譲ったり処分したりしてみましょう。本棚がすっきりし、新しい本のスペースができます。",
    "difficulty": 2
  },
  {
    "category": "整理",
    "title": "スマホのアプリを整理して使わないものを削除する",
    "description": "ダウンロードしたけれど使っていないアプリを整理してみませんか。ホーム画面がすっきりし、本当に必要なアプリが見つけやすくなります。",
    "difficulty": 1
  },
  {
    "category": "整理",
    "title": "冷蔵庫の中身をチェックして整理する",
    "description": "冷蔵庫の中を整理し、期限切れのものがないかチェックしてみましょう。食材の無駄がなくなり、料理の計画も立てやすくなります。",
    "difficulty": 2
  },
  {
    "category": "整理",
    "title": "財布の中身を整理してレシートを処分する",
    "description": "たまったレシートやポイントカードを整理してみませんか。必要なものだけを残すことで、財布がすっきりし、支払いもスムーズになります。",
    "difficulty": 1
  },
  {
    "category": "整理",
    "title": "バッグの中身を全部出して整理する",
    "description": "普段使っているバッグの中身を一度全部出して、必要なものだけを戻してみましょう。軽くなったバッグで気分も軽やかになります。",
    "difficulty": 2
  },
  {
    "category": "整理",
    "title": "一つの引き出しを完全に整理する",
    "description": "散らかっている引き出しを一つ選んで、きれいに整理してみませんか。小さな達成感が得られ、整理整頓のモチベーションも上がります。",
    "difficulty": 2
  },
  {
    "category": "整理",
    "title": "今日使ったものを元の場所に戻す",
    "description": "使ったものをその都度決まった場所に戻すことを意識してみましょう。部屋が散らからず、探し物をする時間も減ります。",
    "difficulty": 1
  },
  {
    "category": "整理",
    "title": "パソコンのデスクトップを整理する",
    "description": "デスクトップに散らばったファイルを整理して、フォルダ分けしてみませんか。必要なファイルが見つけやすくなり、作業効率も上がります。",
    "difficulty": 2
  },
  {
    "category": "整理",
    "title": "思い出の品を一つ選んで大切に保管する",
    "description": "大切な思い出の品を一つ選んで、きれいに掃除して保管してみましょう。思い出を振り返りながら、心も温かくなります。",
    "difficulty": 1
  },
  {
    "category": "整理",
    "title": "今日一箇所だけ丁寧に掃除する",
    "description": "洗面台、玄関、窓など、一箇所だけを選んで普段より丁寧に掃除してみませんか。きれいになった場所を見ると達成感が得られます。",
    "difficulty": 2
  },
  {
    "category": "癒やし",
    "title": "好きな香りのお茶を丁寧に淹れて味わう",
    "description": "急須やティーポットで丁寧にお茶を淹れ、香りと味をゆっくりと楽しんでみませんか。心が落ち着き、リラックスできる時間になります。",
    "difficulty": 1
  },
  {
    "category": "癒やし",
    "title": "温かいお風呂にいつもより長く浸かる",
    "description": "普段はシャワーで済ませがちでも、今日は湯船にゆっくり浸かってみませんか。温まった体と心で、一日の疲れが癒されます。",
    "difficulty": 1
  },
  {
    "category": "癒やし",
    "title": "目を閉じて5分間瞑想する",
    "description": "何も考えず、呼吸に意識を向けて静かに座ってみましょう。心の雑音が静まり、内側から平静さを取り戻すことができます。",
    "difficulty": 2
  },
  {
    "category": "癒やし",
    "title": "自然の音を聞きながらリラックスする",
    "description": "鳥のさえずり、川の流れ、雨音など、自然の音を聞きながら過ごしてみませんか。YouTubeなどでも聞けます。心が穏やかになり、ストレスが軽減されます。",
    "difficulty": 1
  },
  {
    "category": "癒やし",
    "title": "植物に水をあげながら話しかける",
    "description": "家にある植物に水をあげながら、今日あったことを話しかけてみましょう。植物の成長を見守ることで、心に安らぎが生まれます。",
    "difficulty": 1
  },
  {
    "category": "癒やし",
    "title": "空を見上げて雲の形を観察する",
    "description": "忙しい日常で見上げることを忘れがちな空を、ゆっくりと眺めてみませんか。雲の形や空の色に心を向けることで、自然とのつながりを感じられます。",
    "difficulty": 1
  },
  {
    "category": "癒やし",
    "title": "好きな音楽を聞きながら何もしない時間を作る",
    "description": "スマホを見たり作業をしたりせず、ただ音楽に身を委ねる時間を作ってみませんか。音楽に包まれることで心が軽やかになります。",
    "difficulty": 1
  },
  {
    "category": "癒やし",
    "title": "好きな本を10ページだけ読む",
    "description": "長時間読む必要はありません。好きな本を短時間だけ読むことで、日常から離れた世界に浸り、心をリフレッシュできます。",
    "difficulty": 1
  },
  {
    "category": "癒やし",
    "title": "朝日または夕日を眺める",
    "description": "一日の始まりや終わりに、太陽の光を浴びながら空を眺めてみませんか。自然のリズムを感じることで、心に平安が訪れます。",
    "difficulty": 1
  },
  {
    "category": "癒やし",
    "title": "ペットや動物と触れ合う時間を作る",
    "description": "ペットがいる場合は一緒に過ごし、いない場合は動物の動画を見たり、近所の猫に会いに行ったりしてみませんか。動物の存在が心を和ませてくれます。",
    "difficulty": 1
  },
  {
    "category": "癒やし",
    "title": "お気に入りの場所でゆっくり過ごす",
    "description": "公園のベンチ、カフェ、家の中の特別な場所など、心が落ち着く場所で何もせずにゆっくりした時間を過ごしてみましょう。",
    "difficulty": 1
  },
  {
    "category": "癒やし",
    "title": "アロマオイルやお香の香りを楽しむ",
    "description": "リラックス効果のある香りで空間を満たしてみませんか。香りが心身をリラックスさせ、いつもの空間が特別な癒しの場所に変わります。",
    "difficulty": 1
  },
  {
    "category": "癒やし",
    "title": "手のひらや足裏を優しくマッサージする",
    "description": "自分の手で手のひらや足裏を優しくマッサージしてみましょう。血行が良くなり、一日の疲れが和らぎ、自分を労わる時間になります。",
    "difficulty": 1
  }
]

# --- 2. データベース接続情報 ---
# docker-compose.ymlの内容と一致させてください。
DB_NAME = "mydatabase"
DB_USER = "myuser"
DB_PASS = "mypassword"
DB_HOST = "db"  # "localhost" から "db" に変更！
DB_PORT = "5432" # コンテナ間の通信なので、公開ポート(5433)ではなく、元のポート(5432)を指定

# --- 3. データを投入するスクリプト本体 ---
def load_data():
    conn = None
    try:
        # データベースに接続
        conn = psycopg2.connect(
            dbname=DB_NAME,
            user=DB_USER,
            password=DB_PASS,
            host=DB_HOST,
            port=DB_PORT
        )
        cur = conn.cursor()
        print("データベース接続成功。")

        # まず、カテゴリを挿入し、IDを記録する
        category_ids = {}
        for task in tasks:
            category_name = task['category']
            if category_name not in category_ids:
                # カテゴリが既に存在するか確認
                cur.execute("SELECT id FROM categories WHERE name = %s", (category_name,))
                result = cur.fetchone()
                if result:
                    category_ids[category_name] = result[0]
                else:
                    # 新しいカテゴリを挿入し、そのIDを取得
                    cur.execute("INSERT INTO categories (name) VALUES (%s) RETURNING id", (category_name,))
                    category_id = cur.fetchone()[0]
                    category_ids[category_name] = category_id
                    print(f"カテゴリ '{category_name}' をID: {category_id} で挿入しました。")

        # 次に、挑戦（チャレンジ）を挿入する
        for task in tasks:
            category_id = category_ids[task['category']]
            cur.execute(
                "INSERT INTO challenges (category_id, title, description, difficulty) VALUES (%s, %s, %s, %s)",
                (category_id, task['title'], task['description'], task['difficulty'])
            )

        # 変更をデータベースにコミット（保存）
        conn.commit()
        print(f"\n成功: {len(tasks)}件の挑戦をデータベースに挿入しました。")

    except psycopg2.Error as e:
        print(f"データベースエラー: {e}")
        if conn:
            conn.rollback() # エラーの場合は変更をロールバック
    finally:
        # 接続を閉じる
        if conn:
            cur.close()
            conn.close()
            print("データベース接続を閉じました。")

if __name__ == '__main__':
    load_data()